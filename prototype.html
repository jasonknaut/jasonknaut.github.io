<!DOCTYPE html>
<html>
<head>
  <title>CS498 DDV -- Final Project</title>
  <meta charset="utf-8">
</head>
<body>
  <svg></svg>
  <script src="https://d3js.org/d3.v4.js"></script>
  <script>
    var MAP_WIDTH = 500;
    var MAP_HEIGHT = 700;
    var MAP_SCALE = 160000;

    var DATA_SRC = {
                    "nyc-boroughs": "https://jasonknaut.github.io/data/nyc-boroughs.geojson", 
                    "nyc-hoods": "https://jasonknaut.github.io/data/nyc-neighborhoods.geojson"
                   }

    var projection = d3.geoMercator()
                       .scale(MAP_SCALE)
                       .center([-73.9812, 40.7331])
                       .translate([MAP_WIDTH / 2, MAP_HEIGHT / 2]);

    var path = d3.geoPath().projection(projection);

    var svg = d3.select('svg')
                .attr('width', MAP_WIDTH)
                .attr('height', MAP_HEIGHT);

    var g = svg.append('g');

    var mapLayer = g.append('g').classed('map-layer', true);

    /*d3.json(DATA_SRC["nyc-boroughs"], function(error, data) {
      mapLayer.selectAll('path')
              .data(data.features)
              .enter().append('path')
              .attr('d', path)
              .style('fill', 'steelblue');
    });
*/
    var hoodLayer = g.append('g').classed('hood-layer', true);

    d3.json(DATA_SRC["nyc-hoods"], function(error, data) {
      hoodLayer.selectAll('path')
              .data(data.features)
              .enter().append('path')
              .attr('d', path)
              .style('fill', 'lightgray')
              .style('stroke', 'white');
    });

  </script>
</body>
</html>
